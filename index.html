<!DOCTYPE html>
<html lang="en">

<head>
    <title>Vegetable Monitoring</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="shortcut icon" type="image/x-icon" href="images/vegetables-vegan-svgrepo-com.svg">

    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC:400,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">

    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">

    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/ionicons.min.css">

    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">


    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/toastr.css">

    <link rel="stylesheet" href="css/mystyle.css">

</head>

<body class="goto-here">
    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
        <div class="container">
            <a class="navbar-brand" href="index.html">#garagarasayur</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
                aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="oi oi-menu"></span>
            </button>

            <div class="collapse navbar-collapse" id="ftco-nav">
                <!-- <ul class="navbar-nav ml-auto">
                    <li class="nav-item active"><a href="index.html" class="nav-link">Home</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdown04" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">Shop</a>
                        <div class="dropdown-menu" aria-labelledby="dropdown04">
                            <a class="dropdown-item" href="shop.html">Shop</a>
                            <a class="dropdown-item" href="wishlist.html">Wishlist</a>
                            <a class="dropdown-item" href="product-single.html">Single Product</a>
                            <a class="dropdown-item" href="cart.html">Cart</a>
                            <a class="dropdown-item" href="checkout.html">Checkout</a>
                        </div>
                    </li>
                    <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
                    <li class="nav-item"><a href="blog.html" class="nav-link">Blog</a></li>
                    <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li>
                    <li class="nav-item cta cta-colored"><a href="cart.html" class="nav-link"><span
                                class="icon-shopping_cart"></span>[0]</a></li>

                </ul> -->
            </div>
        </div>
    </nav>
    <!-- END nav -->

    <section id="home-section" class="hero">
        <div class="home-slider owl-carousel">
            <div class="slider-item" style="background-image: url(images/bg_1.jpg);">
                <div class="overlay"></div>
                <div class="container">
                    <div class="row slider-text justify-content-center align-items-center" data-scrollax-parent="true">

                        <div class="col-md-12 ftco-animate text-center">
                            <h1 class="mb-2">Vegetable Monitoring</h1>
                            <h2 class="subheading mb-4">Atyfa &amp; Ryan</h2>
                            <p><a href="#target" class="btn btn-primary scroller">Lets Go!</a></p>
                        </div>

                    </div>
                </div>
            </div>

            <div class="slider-item" style="background-image: url(images/bg_2.jpg);">
                <div class="overlay"></div>
                <div class="container">
                    <div class="row slider-text justify-content-center align-items-center" data-scrollax-parent="true">

                        <div class="col-sm-12 ftco-animate text-center">
                            <h1 class="mb-2">Satu Hari Satu Sayur</h1>
                            <h2 class="subheading mb-4">Sayur Dulu Baru Kamu</h2>
                            <p><a href="#target" class="btn btn-primary scroller">Lets Go!</a></p>
                        </div>

                    </div>
                    <div id="target" class="pt-5"></div>
                </div>
            </div>
        </div>
    </section>

    <section class="ftco-section">
        <div class="container">
            <div class="col-sm-12 ftco-animate text-center .heading-section">
                <h4 class="subheading mb-5 font-weight-bold">Manfaat Sayur Untuk Tubuh</h4>
            </div>
            <div class="row no-gutters ftco-services">
                <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                    <div class="media block-6 services mb-md-0 mb-4">
                        <div class="icon bg-color-1 active d-flex justify-content-center align-items-center mb-2">
                            <span class="flaticon-shipped"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Mencegah dan mengurangi stres berlebih</h3>
                            <!-- <span>Mencegah dan mengurangi stres berlebih</span> -->
                        </div>
                    </div>
                </div>
                <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                    <div class="media block-6 services mb-md-0 mb-4">
                        <div class="icon bg-color-2 d-flex justify-content-center align-items-center mb-2">
                            <span class="flaticon-diet"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Membersihkan racun dalam tubuh</h3>
                            <!-- <span>Membersihkan racun dalam tubuh</span> -->
                        </div>
                    </div>
                </div>
                <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                    <div class="media block-6 services mb-md-0 mb-4">
                        <div class="icon bg-color-3 d-flex justify-content-center align-items-center mb-2">
                            <span class="flaticon-award"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Mempertahankan berat badan seimbang</h3>
                            <!-- <span>Mempertahankan berat badan seimbang</span> -->
                        </div>
                    </div>
                </div>
                <div class="col-md-3 text-center d-flex align-self-stretch ftco-animate">
                    <div class="media block-6 services mb-md-0 mb-4">
                        <div class="icon bg-color-4 d-flex justify-content-center align-items-center mb-2">
                            <span class="flaticon-customer-service"></span>
                        </div>
                        <div class="media-body">
                            <h3 class="heading">Sumber energi tubuh</h3>
                            <!-- <span>Sumber energi tubuh</span> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="ftco-section img" style="background-image: url(images/bg_3.jpg);">
        <div class="container">
            <div class="row justify-content-end">
                <div class="col-md-6 heading-section ftco-animate deal-of-the-day ftco-animate">
                    <span class="subheading">Satu Hari Satu Sayur</span>
                    <h2 class="mb-4">Vegetables of the day</h2>
                    <!-- <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia</p>
                    <h3><a href="#">Spinach</a></h3>
                    <span class="price">$10 <a href="#">now $5 only</a></span> -->
                    <!-- <div id="timer" class="d-flex mt-5">
                        <div class="time" id="days"></div>
                        <div class="time pl-3" id="hours"></div>
                        <div class="time pl-3" id="minutes"></div>
                        <div class="time pl-3" id="seconds"></div>
                    </div> -->
                    <nav>
                        <div class="nav nav-tabs" id="nav-tab" role="tablist">
                            <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home"
                                role="tab" aria-controls="nav-home" aria-selected="true">Atyfa</a>
                            <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile"
                                role="tab" aria-controls="nav-profile" aria-selected="false">Ryan</a>
                        </div>
                    </nav>
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="nav-home" role="tabpanel"
                            aria-labelledby="nav-home-tab">
                            <div>
                                <form name="submit-to-google-sheet1">
                                    <div class="form-group">
                                        <div class="float-right float-md-left mb-3 mt-4">Makan Sayur Ga Hari Ini?</div>
                                        <select class="form-control" id="makan1" name="makan">
                                            <option value="iya">Iyaaa</option>
                                            <option value="tidak">Engga</option>
                                        </select>
                                    </div>
                                    <div class="form-group mt-4">
                                        <input name="sayur" type="text" class="form-control" id="sayur1"
                                            placeholder="Makan sayur apa hari ini?" required autocomplete="off">
                                    </div>
                                    <button type="submit" class="btn btn-primary float-right mt-3" id="submit1">Submit
                                        <span id="spinner1" class=" mb-1" role="status"
                                            aria-hidden="true"></span></button>
                                </form>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                            <div>
                                <form name="submit-to-google-sheet2">
                                    <div class="form-group">
                                        <div class="float-right float-md-left mb-3 mt-4">Makan Sayur Ga Hari Ini?</div>
                                        <select class="form-control" id="makan2" name="makan">
                                            <option value="iya">Iyaaa</option>
                                            <option value="tidak">Engga</option>
                                        </select>
                                    </div>
                                    <div class="form-group mt-4">
                                        <input name="sayur" type="text" class="form-control" id="sayur2"
                                            placeholder="Makan sayur apa hari ini?" required autocomplete="off">
                                    </div>
                                    <button type="submit" class="btn btn-primary float-right mt-3" id="submit2">Submit
                                        <span id="spinner2" class=" mb-1" role="status"
                                            aria-hidden="true"></span></button>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="ftco-section ftco-no-pt ftco-no-pb py-5 bg-light">
        <div class="container py-5">
            <div class="row  justify-content-center ftco-animate">
                <div class="col-6 col-sm-2 text-center">
                    <h3 class="text-primary">Day <span class="font-weight-bold" id="day">x</span></h3>
                    <hr>

                </div>







            </div>
            <div class="row d-flex justify-content-center pb-5 mt-3">
                <div class="col-md-6 mb-5 ftco-animate">
                    <h6 class="font-weight-bold">Punya Atyfa</h6>
                    <div style="height: 250px; overflow-y: scroll;">
                        <ul class="list-group" id="table1">
                        </ul>
                    </div>
                </div>
                <div class="col-md-6 ftco-animate">
                    <h6 class="font-weight-bold">Punya Ryan</h6>
                    <div style="height: 250px; overflow-y: scroll;">
                        <ul class="list-group" id="table2">
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <footer class="ftco-footer ftco-section pb-0">
        <div class="container">
            <div class="row">
                <div class="mouse">
                    <a href="#" class="mouse-icon">
                        <div class="mouse-wheel"><span class="ion-ios-arrow-up"></span></div>
                    </a>
                </div>
            </div>
            <div class="row mb-5">
                <div class="col-md-8">
                    <div class="ftco-footer-widget mb-4">
                        <h2 class="ftco-heading-2">#garagarasayur</h2>
                        <p>Sayur Dulu Baru Kamu</p>
                        <ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
                            <li class="ftco-animate"><a href="#"><span class="icon-twitter"></span></a></li>
                            <li class="ftco-animate"><a href="#"><span class="icon-facebook"></span></a></li>
                            <li class="ftco-animate"><a href="#"><span class="icon-instagram"></span></a></li>
                        </ul>
                    </div>
                </div>
                <!-- <div class="col-md">
                    <div class="ftco-footer-widget mb-4 ml-md-5">
                        <h2 class="ftco-heading-2">Menu</h2>
                        <ul class="list-unstyled">
                            <li><a href="#" class="py-2 d-block">Shop</a></li>
                            <li><a href="#" class="py-2 d-block">About</a></li>
                            <li><a href="#" class="py-2 d-block">Journal</a></li>
                            <li><a href="#" class="py-2 d-block">Contact Us</a></li>
                        </ul>
                    </div>
                </div> -->
                <!-- <div class="col-md-4">
                    <div class="ftco-footer-widget mb-4">
                        <h2 class="ftco-heading-2">Help</h2>
                        <div class="d-flex">
                            <ul class="list-unstyled mr-l-5 pr-l-3 mr-4">
                                <li><a href="#" class="py-2 d-block">Shipping Information</a></li>
                                <li><a href="#" class="py-2 d-block">Returns &amp; Exchange</a></li>
                                <li><a href="#" class="py-2 d-block">Terms &amp; Conditions</a></li>
                                <li><a href="#" class="py-2 d-block">Privacy Policy</a></li>
                            </ul>
                            <ul class="list-unstyled">
                                <li><a href="#" class="py-2 d-block">FAQs</a></li>
                                <li><a href="#" class="py-2 d-block">Contact</a></li>
                            </ul>
                        </div>
                    </div>
                </div> -->
                <div class="col-md">
                    <div class="ftco-footer-widget mb-4 ftco-animate">
                        <h2 class="ftco-heading-2">Have a Questions?</h2>
                        <div class="block-23 mb-3">
                            <ul>
                                <li><span class="icon icon-map-marker"></span><span class="text">Banjarbaru - Rantau,
                                        INA</span></li>
                                <li><a href="#"><span class="icon icon-phone"></span><span class="text">+2 392 3929
                                            210</span></a></li>
                                <li><a href="#"><span class="icon icon-envelope"></span><span
                                            class="text">garagarasayur@gmail.com</span></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center">

                    <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        Copyright &copy;
                        <script>document.write(new Date().getFullYear());</script>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </p>
                </div>
            </div>
        </div>
    </footer>



    <!-- loader -->
    <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px">
            <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee" />
            <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
                stroke="#F96D00" />
        </svg></div>


    <!-- <script src="js/jquery.min.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="js/bootstrap-datepicker.js"></script>
    <script src="js/scrollax.min.js"></script>
    <!-- <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script> -->
    <!-- <script src="js/google-map.js"></script> -->
    <script src="js/main.js"></script>
    <script src="js/sweetalert2.all.min.js"></script>
    <script src="js/toastr.min.js"></script>
    <script>




        $(document).ready(function () {
            var date1 = new Date("5/29/2023");
            var date2 = new Date();
            var Difference_In_Time = date2.getTime() - date1.getTime();
            var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24);
            $("#day").html(Math.ceil(Difference_In_Days))
        });




        const onscroll = (el, listener) => {
            el.addEventListener('scroll', listener)
        }
        getData1()
        getData2()

        function getData1() {
            $.ajax({
                type: "POST", //rest Type
                dataType: 'jsonp', //mispelled
                url: "https://sheets.googleapis.com/v4/spreadsheets/1ZOehY8vxpqjDPgvC873-jaPrzH7mTCmo_TgU_ez52t8/values/Sheet1?alt=json&key=AIzaSyA3decVFKzCq4MXmwkKGAYQ0Y8XT6mhAww",
                async: false,
                contentType: "application/json; charset=utf-8",
                success: function (msg) {
                    let sortData = new Object();
                    for (i = 1; i < msg.values.length; i++) {
                        sortData[i] = new Object();
                    }
                    i = 1
                    for (var r = msg.values.length - 1; r > 0; r--) {
                        // console.log(i)
                        for (var j in msg.values[0]) {
                            key = String(msg.values[0][j])
                            val = msg.values[r][j]
                            Object.assign(sortData[i], { [key]: val })
                        }
                        i++
                    }
                    // console.log(sortData)
                    renderTable1(sortData)
                }
            });
        }

        function getData2() {
            $.ajax({
                type: "POST", //rest Type
                dataType: 'jsonp', //mispelled
                url: "https://sheets.googleapis.com/v4/spreadsheets/1ZOehY8vxpqjDPgvC873-jaPrzH7mTCmo_TgU_ez52t8/values/Sheet2?alt=json&key=AIzaSyA3decVFKzCq4MXmwkKGAYQ0Y8XT6mhAww",
                async: false,
                contentType: "application/json; charset=utf-8",
                success: function (msg) {
                    // console.log(msg);
                    let sortData = new Object();
                    for (i = 1; i < msg.values.length; i++) {
                        sortData[i] = new Object();
                    }
                    i = 1
                    for (var r = msg.values.length - 1; r > 0; r--) {
                        // console.log(i)
                        for (var j in msg.values[0]) {
                            key = String(msg.values[0][j])
                            val = msg.values[r][j]
                            Object.assign(sortData[i], { [key]: val })
                        }
                        i++
                    }
                    // console.log(sortData)
                    renderTable2(sortData)
                }
            });
        }

        function renderTable1(data) {
            table = ''
            for (t in data) {
                table += `
                    <li class="list-group-item list-hover">
                        <div class="row">
                            <div class="col-4">
                                `+ data[t].timestamp + `
                            </div>
                            <div class="col-8 float-right">`
                if (data[t].sayur == 'Ga makan sayur') {
                    table += `<span class="float-right text-danger">` + data[t].sayur + ` 😭 </span>
                            </div>
                        </div>
                    </li>`
                }
                else {
                    table += `<span class="float-right">` + data[t].sayur + `</span>
                            </div>
                        </div>
                    </li>`
                }
            }
            $("#table1").html(table)
        }

        function renderTable2(data) {
            table = ''
            for (t in data) {
                table += `
                    <li class="list-group-item list-hover">
                        <div class="row">
                            <div class="col-4">
                                `+ data[t].timestamp + `
                            </div>
                            <div class="col-8 float-right">`
                if (data[t].sayur == 'Ga makan sayur') {
                    table += `<span class="float-right text-danger">` + data[t].sayur + ` 😭 </span>
                            </div>
                        </div>
                    </li>`
                }
                else {
                    table += `<span class="float-right">` + data[t].sayur + `</span>
                            </div>
                        </div>
                    </li>`
                }
            }
            $("#table2").html(table)
        }

        function alert(text) {
            Swal.fire({
                text: text,
                icon: 'success',
                confirmButtonColor: '#82AE46',
                confirmButtonText: 'Okeyy'
            })
        }

        $('#makan1').change(function () {
            var data = $(this).val();
            if (data == 'tidak') {
                $("#sayur1").attr("readonly", true);
                $("#sayur1").addClass('disabled');
                $("#sayur1").val('Ga makan sayur');
            }
            else {
                $("#sayur1").attr("readonly", false);
                $("#sayur1").removeClass('disabled');
                $("#sayur1").val('');
            }
        });

        $('#makan2').change(function () {
            var data = $(this).val();
            if (data == 'tidak') {
                $("#sayur2").attr("readonly", true);
                $("#sayur2").addClass('disabled');
                $("#sayur2").val('Ga makan sayur');
            }
            else {
                $("#sayur2").attr("readonly", false);
                $("#sayur2").removeClass('disabled');
                $("#sayur2").val('');
            }
        });

        const scriptURL1 = 'https://script.google.com/macros/s/AKfycbyjrxu-cZp3sJR4KS4idBuST8F8YMb3J6OroTjZyDqitDdsBMwjnbTh0a-_zAm20bFm/exec'
        const form1 = document.forms['submit-to-google-sheet1']

        form1.addEventListener('submit', e => {
            $("#submit1").attr("disabled", true);
            $("#spinner1").addClass('spinner-border spinner-border-sm');
            e.preventDefault()
            fetch(scriptURL1, { method: 'POST', body: new FormData(form1) })
                .then(response => {
                    console.log('Success!', response)
                    getData1()
                    $("#spinner1").removeClass('spinner-border spinner-border-sm');
                    $("#submit1").attr("disabled", false);
                    if ($("#makan1").val() == 'tidak') {
                        alert('Besok harus makan sayur ya😭')
                    } else {
                        alert('Alhamdulillah, hari ini makan sayur😊')
                    }
                    $("#sayur1").val('')
                })
                .catch(error => console.error('Error!', error.message))

        })


        const scriptURL2 = 'https://script.google.com/macros/s/AKfycbyKXF_3r-2k9mn8TLGP2MoiDcNrdESq6qIEAMzUjRqX4JbbdFiAhyiOAsah67d2xF0/exec'
        const form2 = document.forms['submit-to-google-sheet2']

        form2.addEventListener('submit', e => {
            $("#submit2").attr("disabled", true);
            $("#spinner2").addClass('spinner-border spinner-border-sm');
            e.preventDefault()
            fetch(scriptURL2, { method: 'POST', body: new FormData(form2) })
                .then(response => {
                    console.log('Success!', response)
                    getData2()
                    $("#spinner2").removeClass('spinner-border spinner-border-sm');
                    $("#submit2").attr("disabled", false);
                    if ($("#makan2").val() == 'tidak') {
                        alert('Besok harus makan sayur ya😭')
                    } else {
                        alert('Alhamdulillah, hari ini makan sayur😊')
                    }
                    $("#sayur2").val('')
                })
                .catch(error => console.error('Error!', error.message))
        })

    </script>

</body>

</html>